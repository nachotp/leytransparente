{% extends 'base.html' %}
{% load static %}
{% block head_end %}
  <link rel="stylesheet" href="{% static 'lib/DataTables/dataTables.bootstrap4.min.css' %}">
  <script type="text/javascript" charset="utf8" src="{% static 'lib/DataTables/jquery-3.3.1.min.js' %}"></script>
  <script type="text/javascript" charset="utf8" src="{% static 'lib/DataTables/jquery.dataTables.min.js' %}"></script>
  <script type="text/javascript" charset="utf8" src="{% static 'lib/DataTables/dataTables.bootstrap4.min.js' %}"></script>
  <script type="text/javascript" charset="utf8" src="{% static 'lib/DataTables/Spanish.js' %}"></script>
{% endblock %}

{% block content %}

<table  class="table table-striped table-bordered compact" id="dip_table" cellspacing="0">
	<thead>
		<tr>
			<td>Numero</td>
			<td>Nombre</td>
			<td>Resumen</td>
            <td>URL</td>
            <td>Tags</td>
            <td>
				<a class="btn btn-primary" href="{% url 'Subir Ley' %}">Subir Ley</a>
			</td>
		</tr>

	</thead>
	<tbody>
		{% if leyes %}
		{% for ley in leyes %}
		<tr>
			<td>{{ ley.numero }}</td>
			<td>{{ ley.nombre }}</td>
			<td>{{ ley.resumen }}</td>
            <td>{{ ley.url }}</td>
            <td>{{ ley.tags }}</td>
			<td>
				<a class="btn btn-sm btn-primary" href="#">Ver Ley</a>
                <a class="btn btn-sm btn-danger" href="#">Eliminar</a>
			</td>
		</tr>
		{% endfor %}

		{% else %}
		<h1>No hay registros de Leyes</h1>
		{% endif %}
	</tbody>
</table>
{% endblock%}

{% block body_end %}
<script>
$(document).ready(function() {
    var table = "#dip_table";
    console.log('creating table '+table);

    var diputable = $(table).DataTable({
        "language": langSpanish,
        orderCellsTop: true,
        "order": [[ 0, "desc" ]],
        "scrollY":        "70vh",
        "paging":         true,


    });
});
</script>
{% endblock %}